import{i as e,n as t,r as n,t as r}from"./ProductCard-CYlchAut.js";import{n as i,t as a}from"./CategorySelector-B_CRrh-c.js";import{a as o,i as s,l as c,r as l,u}from"./constants-BhlR-DOK.js";import{D as d,k as f,l as p,s as m,t as h}from"./index-B_KWcYHw.js";import{t as g}from"./button-8WxtMVYD.js";var _=m(`chevron-left`,[[`path`,{d:`m15 18-6-6 6-6`,key:`1wnfg3`}]]),v=f(),y=(e,t=200)=>{let[n,r]=(0,v.useState)(e);return(0,v.useEffect)(()=>{let n=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(n)}},[e,t]),n},b=p(),x=(0,v.memo)(()=>{let[t,n]=(0,v.useState)(``),r=y(t),a=e(e=>e.setSearchQuery);return(0,v.useEffect)(()=>{a(r)},[r,a]),(0,b.jsx)(i,{placeholder:`Search in loaded news`,onChange:e=>{n(e.target.value)},value:t,className:`mx-10`})}),S=(0,v.memo)(e=>{let{nav:t=null,disable:n,onNextPageClick:r,onPrevPageClick:i}=e;return(0,b.jsxs)(`div`,{className:`flex items-center justify-center gap-4 mt-8`,children:[(0,b.jsx)(g,{onClick:i,disabled:n.left,variant:`outline`,children:(0,b.jsx)(_,{})}),t&&(0,b.jsxs)(`span`,{className:`text-sm text-gray-600`,children:[`Страница `,t.current,` из `,t.total]}),(0,b.jsx)(g,{onClick:r,disabled:n.right,variant:`outline`,children:(0,b.jsx)(u,{})})]})}),C=()=>{let{visibleArticles:i,isLoading:u,error:f,currentPage:p,totalPages:m}=t(),_=d(),{nextPage:v,prevPage:y}=l(),C=e(e=>e.filter),w=e(e=>e.setFilter),T=n(e=>e.toggleFavorite),E=o(e=>e.removeArticle);function D(e,t){e.stopPropagation(),E(t)}function O(e,t){e.stopPropagation(),T(t)}return(0,b.jsxs)(c,{children:[(0,b.jsx)(s,{items:[{label:`Home`,href:`/`},{label:`Products`}]}),(0,b.jsxs)(`div`,{className:`mb-6 flex items-center justify-between`,children:[(0,b.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,b.jsx)(`h2`,{className:`text-2xl font-semibold mr-4`,children:`News`}),(0,b.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,b.jsx)(g,{variant:C===`all`?`default`:`ghost`,onClick:()=>w(`all`),children:`All`}),(0,b.jsx)(g,{variant:C===`favorites`?`default`:`ghost`,onClick:()=>w(`favorites`),children:`Favorites`})]})]}),(0,b.jsx)(x,{}),(0,b.jsx)(a,{}),(0,b.jsx)(g,{className:`mx-4`,variant:`outline`,onClick:()=>_(`/create-product`),children:`Create New Article`})]}),u&&(0,b.jsx)(h,{}),f&&(0,b.jsxs)(`div`,{className:`rounded bg-red-100 p-4 text-red-700`,children:[`Error: `,f.message]}),(0,b.jsx)(`div`,{className:`grid gap-6 md:grid-cols-2 lg:grid-cols-3`,children:i.map(e=>(0,b.jsx)(r,{article:e,onDelete:D,onToggleFavorite:O},e.url))}),!u&&i.length===0&&(0,b.jsx)(`div`,{className:`text-center text-gray-500 mt-6`,children:C===`favorites`?`No favorite articles yet. Add some by clicking the heart icon!`:`No articles found`}),(0,b.jsx)(S,{onNextPageClick:()=>{v()},onPrevPageClick:()=>{y()},disable:{left:p===1,right:p>=m},nav:{current:p,total:m}})]})};export{C as default};